1.通过网关ip登录，只有通过网关才能访问，否则是未登录

2.
网关登录->不用网关能访问
网关登录->用网关不能访问
不用网关登录->网关不能访问

不用网关登录->不用网关能访问

网关登录，不用网关也不能访问
zuul:
  sensitiveHeaders:


sensitive-headers:   #此处不写则无法携带header;如果客户端在发请求是带了X-ABC，那么X-ABC不会传递给下游服务
ignoredHeaders: X-ABC    #如果客户端在发请求是带了X-ABC，那么X-ABC依然会传递给下游服务。但是如果下游服务再转发就会被过滤


3.pre OAuth2TokenRelayFilter
String value = (String) ctx.get(ACCESS_TOKEN);
        if ( value != null && !value.isEmpty()){
            return value ;
        }

//https://stackoverflow.com/questions/44400280/springboot-zuul-oauth2-oauth2tokenrelayfilter-reauthorization

zuul:
  OAuth2TokenRelayFilter:
   pre:
    disable: true
@Component("oAuth2TokenRelayFilter")
MyOAuth2TokenRelayFilter

OAuth2TokenRelayFilter
原理：
如果@Autowire Spring会根据类型去寻找 OAuth2TokenRelayFilter的Bean，但是现在有两个